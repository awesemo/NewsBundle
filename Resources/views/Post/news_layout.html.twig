{% block post_body %}
    {% for post in pager.getCurrentPageResults() %}
        <div class="pad20"></div>
        <!--post-->
        {% if post.image %}
            {% if post.image.providerName  == 'sonata.media.provider.image' %}
                <div class="hover_img">
                    <a href="{%  path post.image, 'reference' %}" data-rel="prettyPhoto"><img src="{%  path post.image, 'reference' %}" alt=""/></a>
                </div>
            {% else %}
                <div class="vendor">
                    {% media post.image, 'reference' %}
                </div>
            {% endif %}
        {% endif %}
        <h1 class="blog"><a href="{{ url('rz_news_view', { 'permalink': post.slug, '_format': 'html' }) }}">{{ post.title }}</a></h1>
        <h4><b>{{ post.publicationDateStart | format_date }}</b> | <b><a href="{{ url('rz_news_collection', {'collection': post.collection.slug}) }} ">{{ post.collection }}</a></b> | <b>{{ 'archive_author'|trans({'%author%': post.author }, 'SonataNewsBundle') }}</b> </h4>
        <p>{{ post.abstract }}</p>
        <div class="post-meta muted">
            <ul>
                <li>Tags: </li>
                <li>
                    {% for tag in post.tags %}
                        <a href="{{ url('rz_news_tag', { 'tag': tag.slug } ) }}">{{ tag.name }}</a>
                    {% endfor %}
                </li>
            </ul>
        </div>
        <h4><a href="{{ url('rz_news_view', { 'permalink':  post.slug, '_format': 'html' }) }}"><b>READ &rarr;</b></a></h4>
        <!--end post-->
        <div class="pad30"></div>
    {% else %}
        <div class="row-fluid sonata-blog-post-list">
            <div class="span12">
                {{ 'no_post_found'|trans({}, 'SonataNewsBundle') }}
            </div>
        </div>
    {% endfor %}
{% endblock post_body %}

{% block post_paginator %}
    {% if pager.haveToPaginate %}
        {% if type == 'tags' %}
            {% set pager_route =  'rz_news_tag_pager' %}
        {% elseif type == 'category' %}
            {% set pager_route =  'rz_news_category_pager' %}
        {% elseif type == 'monthly' %}
            {% set pager_route =  'rz_news_archive_monthly_pager' %}
        {% elseif type == 'collection' %}
            {% set pager_route =  'rz_news_collection_pager' %}
        {% elseif type == 'yearly' %}
            {% set pager_route =  'rz_news_archive_yearly_pager' %}
        {% else %}
            {% set pager_route =  'rz_news_archive_pager' %}
        {% endif %}

        <div class="pagination">
            <ul class="span12">
                {% if pager.hasPreviousPage %}
                <li class="pull-left"><a href="{{ url(pager_route, route_parameters|merge({'page': pager.previousPage, '_format': 'html'})) }}" title="{{ 'link_previous_page'|trans({}, 'SonataNewsBundle') }}">{{ 'link_previous_page'|trans({}, 'SonataNewsBundle') }}</a>
                    {% endif %}
                    {% if pager.hasNextPage %}
                <li class="pull-right"><a href="{{ url(pager_route, route_parameters|merge({'page': pager.nextPage, '_format': 'html'})) }}" title="{{ 'link_next_page'|trans({}, 'SonataNewsBundle') }}">{{ 'link_next_page'|trans({}, 'SonataNewsBundle') }}</a></li>
                {% endif %}
            </ul>
        </div>
    {% endif %}
    <div class="clearfix"></div>
{% endblock post_paginator %}


{% block post_javascripts %}
<script>
    jQuery(document).ready(function(){
        jQuery('.vendor').fitVids({ customSelector: "iframe[src^='http://www.dailymotion.com']"});
    });
</script>
{% endblock post_javascripts %}

{% block post_stylesheet %}{% endblock post_stylesheet %}
